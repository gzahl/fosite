common_types

geometry_common
  USE common_types

	geometry_cartesian
	  USE geometry_common

		geometry_polar
		  USE geometry_cartesian

		geometry_logpolar
		  USE geometry_cartesian

		geometry_cylindrical
		  USE geometry_cartesian

		geometry_spherical
		  USE geometry_cartesian

			geometry_sinhspherical
			  USE geometry_cartesian
			  USE geometry_spherical

		geometry_oblatespheroidal
		  USE geometry_cartesian

		geometry_tancylindrical
		  USE geometry_cartesian

		geometry_bipolar
		  USE geometry_cartesian

		geometry_tanpolar
		  USE geometry_cartesian

		geometry_sinhpolar
		  USE geometry_cartesian

		geometry_sinhtanhpolar
		  USE geometry_cartesian

		geometry_channel
		  USE geometry_cartesian

		geometry_lncoshcylindrical
		  USE geometry_cartesian

			geometry_generic
			  USE geometry_cartesian, InitGeometry_common => InitGeometry, &
			  USE geometry_polar
			  USE geometry_logpolar
			  USE geometry_cylindrical
			  USE geometry_spherical
			  USE geometry_oblatespheroidal
			  USE geometry_tancylindrical
			  USE geometry_bipolar
			  USE geometry_tanpolar
			  USE geometry_sinhpolar
			  USE geometry_sinhtanhpolar
			  USE geometry_sinhspherical
			  USE geometry_channel
			  USE geometry_lncoshcylindrical


mesh_common
  USE common_types
  USE geometry_common, ONLY : Geometry_TYP

	mesh_midpoint
	  USE mesh_common, InitMesh_common => InitMesh
	  USE boundary_common, ONLY : EAST,WEST,NORTH,SOUTH
	  USE geometry_generic

	mesh_trapezoidal
	  USE mesh_midpoint
	  USE geometry_generic

		mesh_generic
		  USE mesh_midpoint, InitMesh_common => InitMesh, CloseMesh_common => CloseMesh
		  USE mesh_trapezoidal
		  USE geometry_generic


constants_common
  USE common_types

	constants_SI
	  USE constants_common

	constants_geometrical
	  USE constants_common

		constants_generic
		  USE constants_SI
		  USE constants_geometrical


physics_common
  USE common_types
  USE sources_common, ONLY : Sources_TYP
  USE constants_common, ONLY : Constants_TYP

	physics_euler2Disothm
	  USE physics_common
	  USE sources_common, ONLY : Sources_TYP
	  USE mesh_generic

		physics_euler2D
		  USE physics_common
		  USE mesh_common, ONLY : Mesh_TYP
		  USE sources_common, ONLY : Sources_TYP
		  USE physics_euler2Disothm
		  USE mesh_generic

			physics_euler3Drotsym
			  USE physics_common
			  USE mesh_common, ONLY : Mesh_TYP
			  USE sources_common, ONLY : Sources_TYP
			  USE physics_euler2D
			  USE mesh_generic

				physics_euler3Drotamt
				  USE physics_common
				  USE mesh_common, ONLY : Mesh_TYP
				  USE physics_euler2D, ONLY : MomentumSourcesX_euler2D, MomentumSourcesY_euler2D
				  USE physics_euler3Drotsym, &
				  USE mesh_generic

				physics_euler3Drotsymsgs
				  USE physics_common
				  USE mesh_common, ONLY : Mesh_TYP
				  USE physics_euler2D, ONLY : MomentumSourcesX_euler2D, MomentumSourcesY_euler2D
				  USE physics_euler3Drotsym

					physics_generic
					  USE mesh_common, ONLY : Mesh_TYP, Initialized
					  USE sources_common, ONLY : Sources_TYP
					  USE physics_euler2Disothm, ClosePhysics_common => ClosePhysics
					  USE physics_euler2D
					  USE physics_euler3Drotsym
					  USE physics_euler3Drotamt
					  USE physics_euler3Drotsymsgs
					  USE constants_generic


fileio_common
  USE common_types
  USE mesh_common, ONLY : Mesh_TYP
  USE physics_common, ONLY : Physics_TYP

	fileio_npy
	  USE fileio_common
	  USE mesh_common, ONLY : Mesh_TYP
	  USE physics_common, ONLY : Physics_TYP
	  USE timedisc_common, ONLY : Timedisc_TYP
	  USE sources_common, ONLY : Sources_TYP

	fileio_vtk
	  USE fileio_common
	  USE geometry_common, ONLY : Geometry_TYP, GetName, GetType
	  USE geometry_generic
	  USE mesh_common, ONLY : Mesh_TYP
	  USE physics_common, ONLY : Physics_TYP, GetName, GetType
	  USE timedisc_common, ONLY : Timedisc_TYP
	  USE sources_generic, ONLY : POISSON, GetSourcesPointer

	fileio_gnuplot
	  USE common_types, ONLY : Error_common => Error
	  USE fileio_common, InitFileIO_common => InitFileIO, Error_fileio => Error
	  USE mesh_common, ONLY : Mesh_TYP
	  USE physics_common, ONLY : Physics_TYP
	  USE timedisc_common, ONLY : Timedisc_TYP

		fileio_netcdf
		  USE fileio_gnuplot
		  USE geometry_common, ONLY : Geometry_TYP, GetName, GetType
		  USE geometry_generic, ONLY : Convert2Cartesian
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP, GetName, GetType
		  USE timedisc_common, ONLY : Timedisc_TYP

		fileio_binary
		  USE fileio_gnuplot, CloseFile_binary => CloseFile_gnuplot
		  USE geometry_common, ONLY : Geometry_TYP, GetType
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP, GetType
		  USE timedisc_common, ONLY : Timedisc_TYP
		  USE fluxes_generic, ONLY : Fluxes_TYP, GetBoundaryFlux

			fileio_generic
			  USE fileio_gnuplot, InitFileIO_common => InitFileIO, &
			  USE fileio_binary
			  USE fileio_netcdf
			  USE fileio_vtk
			  USE fileio_npy
			  USE fluxes_common, ONLY : Fluxes_TYP
			  USE mesh_common, ONLY : Mesh_TYP
			  USE timedisc_common, ONLY : Timedisc_TYP
			  USE physics_generic, ONLY : Physics_TYP, Convert2Conservative



reconstruction_common
  USE common_types

	reconstruction_constant
	  USE reconstruction_common
	  USE mesh_common, ONLY : Mesh_TYP
	  USE physics_common, ONLY : Physics_TYP

		reconstruction_linear
		  USE reconstruction_constant
		  USE common_types, ONLY : Common_TYP, InitCommon
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP

			reconstruction_generic
			  USE reconstruction_constant, InitReconstruction_common => InitReconstruction, &
			  USE reconstruction_linear
			  USE mesh_common, ONLY : Mesh_TYP, Initialized
			  USE physics_common, ONLY : Physics_TYP, Initialized


fluxes_common
  USE common_types
  USE reconstruction_common, ONLY : Reconstruction_TYP

	fluxes_midpoint
	  USE fluxes_common
	  USE mesh_common, ONLY : Mesh_TYP, GetName
	  USE boundary_common, ONLY : &
	  USE physics_generic
	  USE reconstruction_generic

		fluxes_trapezoidal
		  USE mesh_common, ONLY : Mesh_TYP
		  USE fluxes_midpoint, InitFluxes_trapezoidal => InitFluxes_midpoint
		  USE physics_generic
		  USE reconstruction_generic

			fluxes_generic
			  USE physics_common, ONLY : Physics_TYP
			  USE fluxes_midpoint, InitFluxes_common => InitFluxes, &
			  USE fluxes_trapezoidal
			  USE mesh_generic
			  USE reconstruction_generic


boundary_common
  USE common_types

	boundary_nogradients
	  USE boundary_common
	  USE mesh_common, ONLY : Mesh_TYP
	  USE physics_common, ONLY : Physics_TYP

		boundary_absorbing
		  USE mesh_common, ONLY : Mesh_TYP
		  USE boundary_nogradients
		  USE physics_generic

		boundary_periodic
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP
		  USE boundary_nogradients

		boundary_extrapolation
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP
		  USE boundary_nogradients

		boundary_noslip
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP
		  USE boundary_nogradients

		boundary_fixed
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP
		  USE boundary_nogradients

			boundary_noh
			  USE mesh_common, ONLY : Mesh_TYP
			  USE physics_common, ONLY : Physics_TYP
			  USE boundary_nogradients
			  USE boundary_fixed

			boundary_farfield
			  USE mesh_common, ONLY : Mesh_TYP
			  USE boundary_nogradients
			  USE boundary_fixed
			  USE physics_generic

			boundary_custom
			  USE mesh_common, ONLY : Mesh_TYP
			  USE physics_common, ONLY : Physics_TYP
			  USE boundary_nogradients
			  USE boundary_fixed

		boundary_reflecting
		  USE mesh_common, ONLY : Mesh_TYP
		  USE boundary_nogradients
		  USE physics_generic, ONLY : Physics_TYP, ReflectionMasks

			boundary_axis
			  USE mesh_common, ONLY : Mesh_TYP
			  USE boundary_reflecting, CloseBoundary_axis => CloseBoundary_reflecting, &
				CenterBoundary_axis => CenterBoundary_reflecting
			  USE physics_generic, ONLY : Physics_TYP, AxisMasks

			boundary_folded
			  USE mesh_common, ONLY : Mesh_TYP
			  USE boundary_reflecting, CloseBoundary_folded => CloseBoundary_reflecting
			  USE physics_generic, ONLY : Physics_TYP, ReflectionMasks

				boundary_generic
				  USE timedisc_common, ONLY : Timedisc_TYP
				  USE mesh_common, ONLY : Mesh_TYP, GetRank, Initialized, Error
				  USE fluxes_common, ONLY : Fluxes_TYP
				  USE reconstruction_common, ONLY : Reconstruction_TYP, PrimRecon
				  USE boundary_nogradients, InitBoundary_common => InitBoundary, &
					CloseBoundary_common => CloseBoundary
				  USE boundary_periodic
				  USE boundary_reflecting, InitBoundary_common1 => InitBoundary,&
					CloseBoundary_common1 => CloseBoundary
				  USE boundary_axis
				  USE boundary_folded
				  USE boundary_fixed
				  USE boundary_extrapolation
				  USE boundary_noh
				  USE boundary_noslip
				  USE boundary_absorbing
				  USE boundary_custom
				  USE boundary_farfield
				  USE physics_generic, ONLY : Physics_TYP, Initialized, &
					Convert2Primitive, Convert2Conservative


timedisc_common
  USE common_types
  USE boundary_common, ONLY : Boundary_TYP

	timedisc_modeuler
	  USE timedisc_common
	  USE mesh_generic
	  USE fluxes_generic
	  USE boundary_generic
	  USE physics_generic, GeometricalSources_Physics => GeometricalSources, &
	  USE sources_generic

	timedisc_rkfehlberg
	  USE timedisc_common
	  USE mesh_generic
	  USE fluxes_generic
	  USE boundary_generic
	  USE physics_generic, GeometricalSources_Physics => GeometricalSources, &
	  USE sources_generic

		timedisc_cashkarp
		  USE timedisc_common
		  USE mesh_generic
		  USE fluxes_generic
		  USE boundary_generic
		  USE physics_generic, GeometricalSources_Physics => GeometricalSources, &
		  USE sources_generic
		  USE timedisc_rkfehlberg

			timedisc_generic
			  USE timedisc_modeuler, CloseTimedisc_common => CloseTimedisc
			  USE timedisc_rkfehlberg
			  USE timedisc_cashkarp
			  USE boundary_generic
			  USE physics_common, ONLY : GetErrorMap
			  USE mesh_generic
			  USE physics_generic
			  USE fluxes_generic
			  USE sources_generic, CalcTimestep_sources => CalcTimestep
			  USE fileio_generic



multipole_common
  USE common_types
  USE mesh_common, ONLY : Selection_TYP

	multipole_spherical
	  USE multipole_common, InitMultipole_common => InitMultipole
	  USE mesh_common, ONLY : Selection_TYP
	  USE physics_common, ONLY : Physics_TYP
	  USE geometry_generic

		multipole_cylindrical
		  USE mesh_common, ONLY : Selection_TYP
		  USE physics_common, ONLY : Physics_TYP
		  USE multipole_spherical
		  USE geometry_generic

			multipole_generic
			  USE mesh_common, ONLY : Selection_TYP
			  USE physics_common, ONLY : Physics_TYP
			  USE multipole_spherical, InitMultipole_basic => InitMultipole, &
			  USE multipole_cylindrical


poisson_common
  USE common_types
  USE multipole_common, ONLY : Multipole_TYP

	poisson_multigrid
	  USE poisson_common
	  USE multipole_generic
	  USE mesh_generic
	  USE physics_generic
	  USE boundary_generic

	poisson_spectral
	  USE poisson_common
	  USE mesh_generic
	  USE physics_generic
	  USE boundary_generic

		poisson_generic
		  USE mesh_common, ONLY : Mesh_TYP
		  USE physics_common, ONLY : Physics_TYP
		  USE boundary_common, ONLY : Boundary_TYP
		  USE sources_common, ONLY : Sources_TYP, InitSources
		  USE poisson_multigrid
		  USE poisson_spectral
		  USE physics_generic


sources_common
  USE common_types
  USE mesh_common, ONLY : Selection_TYP
  USE poisson_common, ONLY: Poisson_TYP

	sources_pointmass
	  USE sources_common
	  USE common_types, ONLY : Common_TYP, InitCommon
	  USE boundary_common, ONLY : WEST,EAST,SOUTH,NORTH
	  USE fluxes_generic, ONLY : Fluxes_TYP, GetBoundaryFlux
	  USE physics_generic
	  USE geometry_generic
	  USE mesh_generic

		sources_rotframe
		  USE sources_pointmass
		  USE fluxes_common, ONLY : Fluxes_TYP
		  USE physics_generic
		  USE mesh_generic

		sources_viscosity
		  USE common_types, ONLY : Common_TYP, InitCommon
		  USE sources_pointmass
		  USE sources_binary
		  USE physics_generic
		  USE fluxes_generic
		  USE mesh_generic

		sources_c_accel
		  USE sources_pointmass
		  USE fluxes_common, ONLY : Fluxes_TYP
		  USE physics_generic
		  USE mesh_generic

		sources_diskthomson
		  USE sources_pointmass
		  USE fluxes_common, ONLY : Fluxes_TYP
		  USE physics_generic
		  USE mesh_generic

		sources_cooling
		  USE sources_pointmass
		  USE fluxes_common, ONLY : Fluxes_TYP
		  USE physics_generic
		  USE mesh_generic

		sources_binary
		  USE sources_pointmass
		  USE physics_generic
		  USE mesh_generic

		sources_gravmonopol
		  USE sources_pointmass
		  USE physics_generic
		  USE mesh_generic

		sources_diskcooling
		  USE constants_common, ONLY : KE
		  USE sources_pointmass
		  USE sources_binary
		  USE physics_generic
		  USE mesh_generic

		sources_sgs
		  USE common_types, ONLY : Common_TYP, InitCommon
		  USE sources_pointmass
		  USE physics_generic
		  USE fluxes_generic
		  USE mesh_generic

			sources_generic
			  USE mesh_common, ONLY : Mesh_TYP
			  USE boundary_common, ONLY : Boundary_TYP
			  USE timedisc_common, ONLY : Timedisc_TYP
			  USE sources_pointmass, InitSources_common => InitSources, &
			  USE sources_diskthomson
			  USE sources_viscosity
			  USE sources_c_accel
			  USE sources_cooling
			  USE sources_rotframe
			  USE sources_binary
			  USE sources_gravmonopol
			  USE sources_sgs
			  USE sources_diskcooling
			  USE poisson_generic
			  USE physics_generic, GeometricalSources_Physics => GeometricalSources, &
			  USE fluxes_generic


fosite_common
  USE common_types
  USE mesh_common, ONLY : Mesh_TYP
  USE fluxes_common, ONLY : Fluxes_TYP
  USE physics_common, ONLY : Physics_TYP
  USE fileio_common, ONLY : FileIO_TYP
  USE timedisc_common, ONLY : Timedisc_TYP

	fosite
	  USE fosite_common
	  USE sources_generic, CalcTimestep_sources => CalcTimestep
	  USE physics_generic, ONLY : InitPhysics, ClosePhysics
	  USE fluxes_generic, ONLY : InitFluxes, CloseFluxes, GetBoundaryFlux
	  USE reconstruction_generic, ONLY : InitReconstruction
	  USE mesh_generic, ONLY : InitMesh, CloseMesh
	  USE boundary_generic, ONLY : InitBoundary, WEST, EAST, SOUTH, NORTH
	  USE sources_generic, ONLY : InitSources, CloseSources
	  USE timedisc_generic, ONLY : InitTimedisc, CloseTimedisc, SolveODE, &
	  USE fileio_generic, ONLY : InitFileIO, CloseFileIO, Initialized, &
	  USE common_types

